<!DOCTYPE html>
<html>
<head>
    <title>Smol Wiki</title>
    <script>
async function loadWiki() {
    try {
        const response = await fetch(
            'https://api.github.com/repos/miguelsantosdesign/smol-wiki/contents/wiki?ref=main'
        );
        
        if (!response.ok) {
            throw new Error(`API error: ${response.status}`);
        }
        
        const files = await response.json();
        const list = document.getElementById('wiki-list');
        
        if (!Array.isArray(files)) {
            list.innerHTML = '<li>No wiki folder found</li>';
            return;
        }
        
        const htmlFiles = files.filter(f => f.name.endsWith('.html'));
        
        if (htmlFiles.length === 0) {
            list.innerHTML = '<li>No HTML files found in wiki/ folder</li>';
            return;
        }
        
        for (const file of htmlFiles) {
            const title = file.name
                .replace('.html', '')
                .replace(/-/g, ' ')
                .replace(/\b\w/g, l => l.toUpperCase());
            
            list.innerHTML += `
                <li>
                    <a href="wiki/${file.name}">
                        ${title}
                    </a>
                </li>
            `;
        }
    } catch (error) {
        document.getElementById('wiki-list').innerHTML = 
            `<li>Error loading wiki: ${error.message}</li>`;
    }
}
loadWiki();
</script>
</head>
<body>
    <h1>Smol Wiki</h1>
    <ul id="wiki-list"></ul>
</body>
</html>
